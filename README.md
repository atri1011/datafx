# B站热门视频AI数据分析油猴脚本

这是一个功能强大的油猴脚本，旨在为Bilibili(B站)的热门视频页面提供深度数据分析能力。它会在页面右侧创建一个可交互的分析面板，通过调用B站官方API和外部AI服务，为您提供多维度的可视化图表和数据洞察。

## ✨ 功能特性

- **多维度数据分析**: 计算并展示点赞率、投币率、收藏率、互动率等关键衍生指标。
- **丰富的数据可视化**:
    - **雷达图**: 宏观展示热门视频各项核心指标的平均水平。
    - **词云图**: 从视频标题中提取关键词，快速了解当前热门内容。
    - **UP主聚合分析**: 统计上榜UP主的作品数量和总播放量。
    - *(待实现) 时间序列图、相关性热力图等。*
- **AI摘要与洞察**: 集成外部AI API，对当前热门视频进行趋势分析，生成内容摘要。
- **自适应主题**: 自动适配B站的明亮/暗黑模式，提供舒适的视觉体验。
- **数据导出**: 支持将详细分析数据一键导出为 `JSON` 或 `CSV` 格式，方便本地进一步分析。
- **高度可配置**: 支持自定义AI API密钥、刷新频率等。

## 🚀 安装与使用

1.  **安装油猴 (Tampermonkey)**:
    *   确保您的浏览器（如 Chrome, Firefox, Edge）已经安装了 [Tampermonkey](https://www.tampermonkey.net/) 扩展。

2.  **安装脚本**:
    *   点击此处的“安装脚本”链接，Tampermonkey会自动弹出安装页面，点击“安装”即可：[从 GitHub 安装](https://github.com/atri1011/datafx/raw/master/dist/bilibili-popular-analyzer.user.js)

3.  **使用**:
    *   访问B站 [热门排行榜](https://www.bilibili.com/v/popular/rank/all) 页面。
    *   脚本会自动在页面右侧创建一个可拖动的分析面板。
    *   面板会自动加载并分析当前热门数据。
    *   您可以通过面板上的按钮进行刷新、导出等操作。
    *   (未来) 在设置中填入您的AI API Key以启用AI分析功能。

## 🛠️ 开发与构建

本项目的所有源代码均位于 `src/` 目录下，并采用模块化设计。我们提供了一个自定义的打包脚本 `build.js` 来生成最终的油猴脚本，无需依赖 Webpack 或 Vite 等大型打包工具。

**构建步骤:**

1.  **环境准备**:
    *   请确保您的电脑上已经安装了 [Node.js](https://nodejs.org/) (推荐LTS版本)。

2.  **执行打包**:
    *   在项目的根目录下打开终端，运行以下命令：
        ```bash
        node build.js
        ```

3.  **完成**:
    *   脚本会自动完成以下操作：
        *   读取 `src/` 目录下的所有模块。
        *   将所有 JavaScript 文件捆绑成一个文件。
        *   将 `src/styles/` 目录下的所有 CSS 文件内联到脚本中。
        *   根据 `package.json` 的信息生成完整的油猴脚本头部。
    *   最终生成的文件会存放在 `dist/bilibili-popular-analyzer.user.js`。您可以直接将此文件拖到浏览器（需已安装Tampermonkey）中进行安装。

---
*本项目旨在学习和技术交流，请勿用于商业用途。所有数据来源于B站公开API。*